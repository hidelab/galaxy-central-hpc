define(["mvc/base-mvc","mvc/collection/dataset-collection-base","mvc/history/history-content-base-view","utils/localization"],function(a,c,g,b){var f=g.HistoryContentViewMixin,d=c.DCBaseView;var e=d.extend(a.mixin(f,{className:"dataset hda history-panel-hda",initialize:function(h){if(h.logger){this.logger=this.model.logger=h.logger}this.log(this+".initialize:",h);d.prototype.initialize.call(this,h);f.initialize.call(this,h)},_template:function(){return e.templates.skeleton(this.model.toJSON())},events:_.extend(_.clone(f.events),{}),_renderBody:function(){var h=$(d.templates.body(this.model.toJSON()));if(this.expanded){h.show()}return h},toString:function(){var h=(this.model)?(this.model+""):("(no model)");return"HDCABaseView("+h+")"}}));e.templates=e.prototype.templates=(function(){var h=_.template(['<div class="dataset hda">','<div class="dataset-warnings">',"<% if ( collection.deleted ) { %>",'<div class="dataset-deleted-msg warningmessagesmall"><strong>',b("This collection has been deleted."),"</div>","<% } %>","<% if ( !collection.visible ) { %>",'<div class="dataset-hidden-msg warningmessagesmall"><strong>',b("This collection has been hidden."),"</div>","<% } %>","</div>",'<div class="dataset-selector"><span class="fa fa-2x fa-square-o"></span></div>','<div class="dataset-primary-actions"></div>','<div class="dataset-title-bar clear" tabindex="0">','<span class="dataset-state-icon state-icon"></span>','<div class="dataset-title">','<span class="hda-hid"><%- collection.hid %></span> ','<span class="dataset-name"><%- collection.name %></span>',"</div>","</div>",'<div class="dataset-body"></div>',"</div>"].join(""));var i=_.template(['<div class="dataset-body">','<div class="dataset-summary">',b("A dataset collection."),"</div>"].join(""));return{skeleton:function(j){return h({_l:b,collection:j})},body:function(j){return i({_l:b,collection:j})}}}());return{HDCABaseView:e}});